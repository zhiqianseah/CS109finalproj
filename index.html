<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Film Ratings from Locations by zhiqianseah</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">
  </head>
  <body>
    <section class="page-header">
      <h1 class="project-name">Film Ratings from Locations</h1>
      <h2 class="project-tagline">CS109: Final Project</h2>
      <a href="https://github.com/zhiqianseah/CS109finalproj" class="btn">View on GitHub</a>
      <a href="https://github.com/zhiqianseah/CS109finalproj/zipball/master" class="btn">Download .zip</a>
      <a href="https://github.com/zhiqianseah/CS109finalproj/tarball/master" class="btn">Download .tar.gz</a>
    </section>

    <section class="main-content">
      <h1>
<a id="introduction" class="anchor" href="#introduction" aria-hidden="true"><span class="octicon octicon-link"></span></a>Introduction</h1>

<p><em>The Lord of the Rings</em>, <em>Harry Potter</em> and <em>Star Wars</em>. What do these films have in common?</p>

<p><img src="http://img03.deviantart.net/4431/i/2012/044/f/6/three_wise_men_color_by_csoro-d4pmlv2.jpg" alt="Three Old Men"></p>

<p>Well, besides having a powerful old man mentoring a young boy.</p>

<p><img src="http://www.themarysue.com/wp-content/uploads/2014/09/the-return-of-the-king.jpg" alt="minas tirith"></p>

<p>That's right, spectacular film locations!</p>

<p>This project stemmed from the belief that great film locations make great films... GREAT! We hypothesize that awesome films are defined by their locations. Remember the deserted island from <em>Skyfall</em>? Or the iconic London skyline that we associate with the <em>Bond</em> films?</p>

<p><img src="http://www.startuproar.co.uk/wp-content/uploads/2014/08/london.jpg" alt="London Skyline"></p>

<p>How about the cliffs of Moher from <em>Harry Potter and the Half-Blood Prince</em>? Epic scenes draw us into the experience of the film, immersing us fully in the stories and atmosphere of the cinematic environment. This is why many fans flock to the film locations of their favourite films.</p>

<p><img src="https://s3.amazonaws.com/rezgo/7225/46198/74386.jpg" alt="Cliffs of Moher"></p>

<p>In this project, we explore the relationship between film locations and the reception of the films. Our objective is to study how filming locations influence user ratings and attempt to predict if a film will be well-received. In our analysis, we also account for the effect of genres on film reception.</p>

<h1>
<a id="data" class="anchor" href="#data" aria-hidden="true"><span class="octicon octicon-link"></span></a>Data</h1>

<blockquote>
<h3>
<a id="data-data-data-i-cannot-make-bricks-without-clay" class="anchor" href="#data-data-data-i-cannot-make-bricks-without-clay" aria-hidden="true"><span class="octicon octicon-link"></span></a>"Data, data, data. I cannot make bricks without clay."</h3>

<p>Sherlock, <em>Sherlock Holmes</em> (2009) </p>
</blockquote>

<p>We obtain our data by scraping films between 2009 and 2014 from IMDB. Out of the 18,000 films that we obtained, those without locations, genres or user ratings were dropped. Then, 10,000 films were randomly sampled to form our data set.</p>

<p><img src="https://apercucinephilia.files.wordpress.com/2012/01/lr-sherlock2.jpg" alt="sherlock holmes"></p>

<p>The filming locations of each film are user-contributed, resulting in many spelling mistakes and repeated entries. In order to obtain clean filming locations information, we extracted locations that corresponded to a list of cities and countries. In the process, we also discovered many interesting places. For example, there is a city in Texas called China and a county in Pennsylvania called King of Prussia. Eventually, we are left with a data set containing 4802 locations (of cities and countries) and 24 genres.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/01%20histogram%20of%20user%20rating.png?raw=true" alt="histogram of user ratings"></p>

<p>The distribution of user ratings look normal with mean of 5.7. It appears that none of the films have a user rating of 10. </p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/02%20bar%20chart%20top%2015%20locations.png?raw=true" alt="bar chart of top 15 locations"></p>

<p>Looking at the top 15 film locations, it is no surprise that majority of the films are filmed in USA and western Europe.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/04%20bar%20chart%20top%2015%20genre.png?raw=true" alt="bar chart of top 15 genres"></p>

<p>As for genres, drama and comedy are the most common.</p>

<h1>
<a id="effects-of-locations--genres-on-ratings" class="anchor" href="#effects-of-locations--genres-on-ratings" aria-hidden="true"><span class="octicon octicon-link"></span></a>Effects of Locations &amp; Genres on Ratings</h1>

<blockquote>
<h2>
<a id="whats-regression-analysis" class="anchor" href="#whats-regression-analysis" aria-hidden="true"><span class="octicon octicon-link"></span></a>"What's Regression Analysis?"</h2>

<p><em>The Double</em> (2014)</p>
</blockquote>

<p>To estimate the effects of each location and genre on user ratings, we perform a simple linear regression. We first look at the effects of the top 15 most popular film locations.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/06%20location%20coeff%20estimates.png?raw=true" alt="location coefficient estimates"></p>

<p>From this plot, we see that filming in USA is estimated to raise user ratings by 3.3 points. It appears that filming in LA has no statistically significant effect on user ratings.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/07%20genre%20coeff%20estimates.png?raw=true" alt="genre coefficient estimates"></p>

<p>Here, we note that having a genre belonging to top 15 most common ones has a positive effect on user ratings, with drama having the most impact of 2.2 points. The only statistically insignificant genre is war.</p>

<p><img src="https://expresselevatortohell.files.wordpress.com/2013/01/saving-private-ryan-tom-hanks.jpg" alt="Saving Private Ryan"></p>

<p>Using the coefficient estimates, we make some predictions on our test data, giving us the following results.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/08%20histogram%20predicted%20vs%20actual%20ratings.png?raw=true" alt="actual vs predicted ratings"></p>

<p>The similar general shape of the predicted and actual user ratings suggests that our model performed quite well. However, having predicted ratings outside the range of 0 and 10 renders this model somewhat absurd.</p>

<blockquote>
<h2>
<a id="it-makes-me-sad-thisregression" class="anchor" href="#it-makes-me-sad-thisregression" aria-hidden="true"><span class="octicon octicon-link"></span></a>"...it makes me sad. This...regression."</h2>

<p>Frank Costello, <em>The Departed (2006)</em></p>
</blockquote>

<h1>
<a id="film-reception" class="anchor" href="#film-reception" aria-hidden="true"><span class="octicon octicon-link"></span></a>Film Reception</h1>

<p>To avoid the absurdity of predicted ratings seen previously, we predict whether a film will be well-received based on its locations and genres instead. We begin by classifying films with a user rating of at least 5 as being well-received.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/10%20bar%20chart%20of%20reception.png?raw=true" alt="reception"></p>

<p>So, we have 7,716 well-received films out of 10,000.</p>

<blockquote>
<h2>
<a id="i-need-to-establish-baseline-data" class="anchor" href="#i-need-to-establish-baseline-data" aria-hidden="true"><span class="octicon octicon-link"></span></a>"I need to establish baseline data.."</h2>

<p><em>Godzilla</em> (2014)</p>
</blockquote>

<p>We note that with 7,716 well-received films, naively classifying all films as being well-received immediately yields an accuracy of 77.16%. Any model that we choose must have an accuracy score above this baseline.</p>

<h1>
<a id="classification" class="anchor" href="#classification" aria-hidden="true"><span class="octicon octicon-link"></span></a>Classification</h1>

<p><img src="https://www.komar.de/fileadmin/media/Fototapeten_Bilder/8-484_Star_Wars_Lost_Droids_ma.jpg" alt="star wars tatooine"></p>

<blockquote>
<h2>
<a id="everything-is-proceeding-as-i-have-foreseen" class="anchor" href="#everything-is-proceeding-as-i-have-foreseen" aria-hidden="true"><span class="octicon octicon-link"></span></a>"Everything is proceeding as I have foreseen."</h2>

<p>The Emperor, <em>Star Wars: Episode VI - Return of the Jedi</em> (1983)</p>
</blockquote>

<p>Due to the large number of locations and genres, we use Principal Components Analysis(PCA) to reduce the dimensions of our data to 1,500 principal components. Using these principal components as our features, we performed classification using k-Nearest Neighbors(kNN) and Logistic Regression.</p>

<p><img src="https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/09%20classifier%20accuracy.png?raw=true" alt="classifier accuracy"></p>

<p>Though the improvement in accuracy over the baseline is only about 1.68%, Logistic Regression outperforms kNN, yielding an accuracy of 78.84%. In absolute terms, Logistic Regression has performed quite well. The remaining misclassification could be attributed to lack of strong correlation between reception and locations and genres.</p>

<p>Nevertheless, our model seems to have predicted film reception based on locations and genres with moderate degree of accuracy. Future studies may consider incorporating film budgets into the analysis. Film budget was not considered here due to the lack of an agreeable metric for standardization across currencies and accounting for inflation.</p>

<blockquote>
<h2>
<a id="this-data-makes-no-sense" class="anchor" href="#this-data-makes-no-sense" aria-hidden="true"><span class="octicon octicon-link"></span></a>"This data makes no sense."</h2>

<p><em>Interstellar (2014)</em></p>
</blockquote>

<p><img src="https://prosimianmedia.files.wordpress.com/2014/11/interstellar-23.jpg" alt="Interstellar"></p>

      <footer class="site-footer">
        <span class="site-footer-owner"><a href="https://github.com/zhiqianseah/CS109finalproj">Film Ratings from Locations</a> is maintained by <a href="https://github.com/zhiqianseah">zhiqianseah</a>.</span>

        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

    </section>

  
  </body>
</html>
