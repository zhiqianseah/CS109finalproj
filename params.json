{"name":"Film Ratings from Locations","tagline":"CS109: Final Project","body":"# Introduction\r\n\r\n_The Lord of the Rings_, _Harry Potter_ and _Star Wars_. What do these films have in common?\r\n\r\n![Three Old Men](http://img03.deviantart.net/4431/i/2012/044/f/6/three_wise_men_color_by_csoro-d4pmlv2.jpg)\r\n\r\nWell, besides having a powerful old man mentoring a young boy.\r\n\r\n![minas tirith](http://www.themarysue.com/wp-content/uploads/2014/09/the-return-of-the-king.jpg)\r\n\r\nThat's right, spectacular film locations!\r\n\r\nThis project stemmed from the belief that great film locations make great films... GREAT! We hypothesize that awesome films are defined by their locations. Remember the deserted island from _Skyfall_? Or the iconic London skyline that we associate with the _Bond_ films?\r\n\r\n![London Skyline](http://www.startuproar.co.uk/wp-content/uploads/2014/08/london.jpg)\r\n\r\nHow about the cliffs of Moher from _Harry Potter and the Half-Blood Prince_? Epic scenes draw us into the experience of the film, immersing us fully in the stories and atmosphere of the cinematic environment. This is why many fans flock to the film locations of their favourite films.\r\n\r\n![Cliffs of Moher](https://s3.amazonaws.com/rezgo/7225/46198/74386.jpg)\r\n\r\nIn this project, we explore the relationship between film locations and the reception of the films. Our objective is to study how filming locations influence user ratings and attempt to predict if a film will be well-received. In our analysis, we also account for the effect of genres on film reception.\r\n\r\n# Data\r\n\r\n> ### \"Data, data, data. I cannot make bricks without clay.\"\r\n> Sherlock, _Sherlock Holmes_ (2009) \r\n\r\nWe obtain our data by scraping films between 2009 and 2014 from IMDB. Out of the 18,000 films that we obtained, those without locations, genres or user ratings were dropped. Then, 10,000 films were randomly sampled to form our data set.\r\n\r\n![sherlock holmes](https://apercucinephilia.files.wordpress.com/2012/01/lr-sherlock2.jpg)\r\n\r\nThe filming locations of each film are user-contributed, resulting in many spelling mistakes and repeated entries. In order to obtain clean filming locations information, we extracted locations that corresponded to a list of cities and countries. In the process, we also discovered many interesting places. For example, there is a city in Texas called China and a county in Pennsylvania called King of Prussia. Eventually, we are left with a data set containing 4802 locations (of cities and countries) and 24 genres.\r\n\r\n![histogram of user ratings](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/01%20histogram%20of%20user%20rating.png?raw=true)\r\n\r\nThe distribution of user ratings look normal with mean of 5.7. It appears that none of the films have a user rating of 10. \r\n\r\n![bar chart of top 15 locations](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/02%20bar%20chart%20top%2015%20locations.png?raw=true)\r\n\r\nLooking at the top 15 film locations, it is no surprise that majority of the films are filmed in USA and western Europe.\r\n\r\n![bar chart of top 15 genres](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/04%20bar%20chart%20top%2015%20genre.png?raw=true)\r\n\r\nAs for genres, drama and comedy are the most common.\r\n\r\n# Effects of Locations & Genres on Ratings\r\n\r\n> ## \"What's Regression Analysis?\"\r\n>_The Double_ (2014)\r\n\r\nTo estimate the effects of each location and genre on user ratings, we perform a simple linear regression. We first look at the effects of the top 15 most popular film locations.\r\n\r\n![location coefficient estimates](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/06%20location%20coeff%20estimates.png?raw=true)\r\n\r\nFrom this plot, we see that filming in USA is estimated to raise user ratings by 3.3 points. It appears that filming in LA has no statistically significant effect on user ratings.\r\n\r\n![genre coefficient estimates](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/07%20genre%20coeff%20estimates.png?raw=true)\r\n\r\nHere, we note that having a genre belonging to top 15 most common ones has a positive effect on user ratings, with drama having the most impact of 2.2 points. The only statistically insignificant genre is war.\r\n\r\n![Saving Private Ryan](https://expresselevatortohell.files.wordpress.com/2013/01/saving-private-ryan-tom-hanks.jpg)\r\n\r\nUsing the coefficient estimates, we make some predictions on our test data, giving us the following results.\r\n\r\n![actual vs predicted ratings](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/08%20histogram%20predicted%20vs%20actual%20ratings.png?raw=true)\r\n\r\nThe similar general shape of the predicted and actual user ratings suggests that our model performed quite well. However, having predicted ratings outside the range of 0 and 10 renders this model somewhat absurd.\r\n\r\n> ## \"...it makes me sad. This...regression.\"\r\n> Frank Costello, _The Departed (2006)_\r\n\r\n# Film Reception\r\n\r\nTo avoid the absurdity of predicted ratings seen previously, we predict whether a film will be well-received based on its locations and genres instead. We begin by classifying films with a user rating of at least 5 as being well-received.\r\n\r\n![reception](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/10%20bar%20chart%20of%20reception.png?raw=true)\r\n\r\nSo, we have 7,716 well-received films out of 10,000.\r\n\r\n> ## \"I need to establish baseline data..\"\r\n> _Godzilla_ (2014)\r\n\r\nWe note that with 7,716 well-received films, naively classifying all films as being well-received immediately yields an accuracy of 77.16%. Any model that we choose must have an accuracy score above this baseline.\r\n\r\n# Classification\r\n\r\n![star wars tatooine](https://www.komar.de/fileadmin/media/Fototapeten_Bilder/8-484_Star_Wars_Lost_Droids_ma.jpg)\r\n\r\n> ## \"Everything is proceeding as I have foreseen.\"\r\n> The Emperor, _Star Wars: Episode VI - Return of the Jedi_ (1983)\r\n\r\nDue to the large number of locations and genres, we use Principal Components Analysis(PCA) to reduce the dimensions of our data to 1,500 principal components. Using these principal components as our features, we performed classification using k-Nearest Neighbors(kNN) and Logistic Regression.\r\n\r\n![classifier accuracy](https://github.com/zhiqianseah/CS109finalproj/blob/master/cs109%20project%20images/09%20classifier%20accuracy.png?raw=true)\r\n\r\nThough the improvement in accuracy over the baseline is only about 1.68%, Logistic Regression outperforms kNN, yielding an accuracy of 78.84%. In absolute terms, Logistic Regression has performed quite well. The remaining misclassification could be attributed to lack of strong correlation between reception and locations and genres.\r\n\r\nNevertheless, our model seems to have predicted film reception based on locations and genres with moderate degree of accuracy. Future studies may consider incorporating film budgets into the analysis. Film budget was not considered here due to the lack of an agreeable metric for standardization across currencies and accounting for inflation.\r\n\r\n>## \"This data makes no sense.\"\r\n>Romily, _Interstellar (2014)_\r\n\r\n![Interstellar](https://prosimianmedia.files.wordpress.com/2014/11/interstellar-23.jpg)\r\n","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}